const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/vant-ui-B5UknOXi.js","assets/js/vue-vendor-BDmscHTi.js","assets/js/HomeView-CTKh9npf.js","assets/js/axios-lib-7ZUa9Kmg.js","assets/css/HomeView-gUJmpEC3.css","assets/js/DivinationView-DIAWiRlM.js","assets/js/PlumBlossomInput-B_UBuHiK.js","assets/js/useDivination-BlC7jHpl.js","assets/js/HexagramDisplay-Nzi9gpz8.js","assets/css/HexagramDisplay-DH7X_BVi.css","assets/js/divination-C-nR8R13.js","assets/css/PlumBlossomInput-BMByl8TG.css","assets/css/DivinationView-DPt1Hl7n.css","assets/js/InterpretationView-CLP6VU6X.js","assets/js/InterpretationCard-ZiHoPvy5.js","assets/css/InterpretationCard-Zxi9vnsK.css","assets/js/useHistory-Dm2P6k7J.js","assets/css/InterpretationView-hN6O-hHQ.css","assets/js/HistoryView-vEfRcTRh.js","assets/css/HistoryView-UJV9jreF.css","assets/js/HexagramDisplayDemo-D4e5s-jZ.js","assets/css/HexagramDisplayDemo-ym8-WtcS.css","assets/js/PlumBlossomDemo-nJ7jco9K.js","assets/css/PlumBlossomDemo-Cp0_elVP.css","assets/js/InterpretationCardDemo-DSUfkcyn.js","assets/css/InterpretationCardDemo-iinQpxjy.css","assets/js/InterpretationDemo--Ras28um.js","assets/css/InterpretationDemo-VVsUP47s.css","assets/js/NotFoundView-oo94iisG.js","assets/css/NotFoundView-354FSd1s.css","assets/css/theme-ink-D0569Pa3.css","assets/css/vant-override-CCUWVCbR.css","assets/css/hexagram-styles-q2kASzSr.css","assets/css/animations-3GJ-ReBO.css"])))=>i.map(i=>d[i]);
import{a as e,I as t,i as a,r as n,J as o,K as r,L as s,M as i,N as l,O as c,j as d,P as u,Q as m,B as p,p as _,e as h,l as E,R as f,T as v,n as g,w as y,S as R,U as w,V as O,W as I,X as A,Y as T,C as b}from"./vue-vendor-BDmscHTi.js";import{s as k,a as P,b as L,T as D,c as V,N as C,B as j,L as N,d as S,D as x,e as $,C as M,f as B,S as H,g as W,h as Y,F,R as U,i as G,j as K,k as z,l as q,P as X,A as Z,m as Q,I as J,n as ee,o as te,p as ae,O as ne,q as oe,r as re,E as se,t as ie,u as le,v as ce,w as de,x as ue,y as me,z as pe,G as _e}from"./vant-ui-B5UknOXi.js";import{a as he}from"./axios-lib-7ZUa9Kmg.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Ee={},fe=function(e,t,a){let n=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");n=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Ee)return;Ee[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,o&&n.setAttribute("nonce",o),document.head.appendChild(n),t?new Promise((t,a)=>{n.addEventListener("load",t),n.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},ve={app:{name:"周易八卦在线卜卦系统",version:"1.0.0",description:"基于Vue3 + Vant UI的在线卜卦系统"},theme:{primaryColor:"#d4af37",secondaryColor:"#8b0000",accentColor:"#2f4f4f",backgroundColor:"#faf8f3",textColor:"#2c3e50"},divinationMethods:{plumBlossom:{name:"梅花易数",description:"通过数字演算卦象",icon:"flower-o"},coin:{name:"铜钱卦",description:"模拟抛掷铜钱得卦",icon:"gold-coin-o"}},navigation:{tabs:[{name:"home",title:"首页",icon:"home-o",path:"/"},{name:"divination",title:"卜卦",icon:"guide-o",path:"/divination"},{name:"interpretation",title:"解卦",icon:"comment-o",path:"/interpretation"},{name:"history",title:"历史",icon:"clock-o",path:"/history"}]},storage:{historyKey:"yijing_divination_history",configKey:"yijing_divination_config",maxHistoryRecords:100},api:{deepseek:{baseUrl:"https://api.deepseek.com/v1",model:"deepseek-chat",temperature:.7,maxTokens:2e3}}};function ge(){const t={NETWORK:"network_error",API:"api_error",VALIDATION:"validation_error",STORAGE:"storage_error",UNKNOWN:"unknown_error"},a={INFO:"info",WARNING:"warning",ERROR:"error",CRITICAL:"critical"},n=e({current:null,history:[],count:0}),o=e({online:navigator.onLine,lastChecked:Date.now()});window.addEventListener("online",()=>{o.online=!0,o.lastChecked=Date.now(),r(!0)}),window.addEventListener("offline",()=>{o.online=!1,o.lastChecked=Date.now(),r(!1)});const r=e=>{k(e?{type:"success",message:"网络已连接",duration:2e3,position:"top"}:{type:"danger",message:"网络已断开，部分功能可能不可用",duration:3e3,position:"top"})},s=(e,o=t.UNKNOWN,r=a.ERROR,s={})=>{const i={message:e.message||"发生未知错误",type:o,severity:r,timestamp:(new Date).toISOString(),details:e.details||e.stack||null,code:e.code||e.status||null,context:s.context||null,handled:!1};switch(n.current=i,n.history.push(i),n.count++,r){case a.INFO:P({message:i.message,position:"bottom",duration:2e3});break;case a.WARNING:k({type:"warning",message:i.message,duration:3e3});break;case a.ERROR:s.showDialog?L({title:s.dialogTitle||"操作失败",message:i.message,confirmButtonText:"确定"}):k({type:"danger",message:i.message,duration:3500});break;case a.CRITICAL:L({title:"系统错误",message:i.message,confirmButtonText:"确定"})}return i.handled=!0,i},i=(e,n={})=>{let r="服务请求失败",i=a.ERROR;if(e.response){const t=e.response.status;401===t||403===t?r="授权验证失败，请检查API密钥":404===t?r="请求的资源不存在":429===t?r="API请求次数超限，请稍后再试":t>=500&&(r="服务器暂时不可用，请稍后再试",i=a.WARNING)}else e.request&&(r="ECONNABORTED"===e.code?"请求超时，请稍后再试":"无法连接到服务器",i=o.online?a.ERROR:a.WARNING);return s({message:r,details:e.message,status:e.response?.status},t.API,i,n)};return{ERROR_TYPES:t,ERROR_SEVERITY:a,errors:n,networkStatus:o,handleError:s,handleNetworkError:(e,n={})=>{const r=o.online?"网络请求失败，请稍后再试":"网络连接已断开，请检查网络设置";return s({message:r,details:e.message},t.NETWORK,a.ERROR,n)},handleApiError:i,handleValidationError:(e,n={})=>{const o="string"==typeof e?e:e.message||"输入数据无效";return s({message:o,details:"object"==typeof e?e:null},t.VALIDATION,a.WARNING,n)},handleStorageError:(e,n={})=>s({message:"数据存储操作失败",details:e.message},t.STORAGE,a.WARNING,n),showSuccess:(e,t={})=>{t.showDialog?L({title:t.dialogTitle||"操作成功",message:e,confirmButtonText:"确定"}):P({type:"success",message:e,position:t.position||"bottom",duration:t.duration||2e3})},showLoading:(e="加载中...",t={})=>P({type:"loading",message:e,forbidClick:!1!==t.forbidClick,duration:t.duration||0,loadingType:t.loadingType||"spinner"}),clearCurrentError:()=>{n.current=null},clearErrorHistory:()=>{n.history=[],n.count=0},checkNetworkConnection:()=>(o.online=navigator.onLine,o.lastChecked=Date.now(),o.online),withFallback:async(e,t,a={})=>{try{return await e()}catch(n){if(i(n,{showDialog:a.showDialog,context:a.context}),"function"==typeof t)return!1!==a.showFallbackNotice&&k({type:"warning",message:a.fallbackMessage||"已切换到备用方案",duration:2e3}),t(n);throw n}}}}const ye={Button:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.Q),__vite__mapDeps([0,1])),Cell:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.Y),__vite__mapDeps([0,1])),CellGroup:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a7),__vite__mapDeps([0,1])),Icon:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.K),__vite__mapDeps([0,1])),Image:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a5),__vite__mapDeps([0,1])),Field:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e._),__vite__mapDeps([0,1])),Form:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.Z),__vite__mapDeps([0,1])),Radio:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a3),__vite__mapDeps([0,1])),RadioGroup:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a0),__vite__mapDeps([0,1])),Checkbox:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a4),__vite__mapDeps([0,1])),CheckboxGroup:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a1),__vite__mapDeps([0,1])),Toast:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.$),__vite__mapDeps([0,1])),Dialog:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.ab),__vite__mapDeps([0,1])),Notify:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.ae),__vite__mapDeps([0,1])),Loading:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.M),__vite__mapDeps([0,1])),Tabbar:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.ak),__vite__mapDeps([0,1])),TabbarItem:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.al),__vite__mapDeps([0,1])),NavBar:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.ad),__vite__mapDeps([0,1])),Tab:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.W),__vite__mapDeps([0,1])),Tabs:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.X),__vite__mapDeps([0,1])),Card:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a6),__vite__mapDeps([0,1])),Tag:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a2),__vite__mapDeps([0,1])),Skeleton:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.ag),__vite__mapDeps([0,1])),Empty:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.aa),__vite__mapDeps([0,1])),Popup:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.U),__vite__mapDeps([0,1])),Collapse:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a8),__vite__mapDeps([0,1])),CollapseItem:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.a9),__vite__mapDeps([0,1])),Step:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.ah),__vite__mapDeps([0,1])),Steps:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.ai),__vite__mapDeps([0,1])),PullRefresh:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.af),__vite__mapDeps([0,1])),List:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.ac),__vite__mapDeps([0,1])),ActionSheet:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.V),__vite__mapDeps([0,1])),SwipeCell:()=>fe(()=>import("./vant-ui-B5UknOXi.js").then(e=>e.aj),__vite__mapDeps([0,1]))},Re=new Set;async function we(e){if(Re.has(e))return Promise.resolve();const t=ye[e];if(!t)return null;try{const a=await t();return Re.add(e),a.default||a[e]}catch(a){return null}}function Oe(e=[]){const t=e.map(e=>we(e));return Promise.all(t)}const Ie={install(e){e.config.globalProperties.$vant={load:we,preload:Oe},e.provide("loadVantComponent",we),e.provide("preloadVantComponents",Oe)}},Ae=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a},Te={key:0,class:"error-boundary"},be={class:"error-content"},ke=Ae({__name:"ErrorBoundary",props:{errorTitle:{type:String,default:"出现错误"},fallbackMessage:{type:String,default:"应用遇到了一个错误，请尝试重新加载页面"}},setup(e){const h=e,E=t(),f=a("errorHandler",null),v=n(!1),g=n(h.fallbackMessage),y=n(null);o((e,t,a)=>(v.value=!0,g.value=e.message||h.fallbackMessage,y.value={error:e,info:a,component:t?.$options?.name||"未知组件"},f&&f.handleError({message:e.message||"组件错误",details:`${a}\n${e.stack||""}`},f.ERROR_TYPES.UNKNOWN,f.ERROR_SEVERITY.ERROR,{context:t?.$options?.name||"未知组件"}),!1));const R=()=>{v.value=!1,g.value=h.fallbackMessage,y.value=null},w=()=>{R(),E.push("/")};return _("resetErrorBoundary",R),(t,a)=>{const n=r("van-icon"),o=r("van-button");return v.value?(l(),s("div",Te,[c("div",be,[d(n,{name:"warning-o",size:"48",color:"#d9363e"}),c("h3",null,u(e.errorTitle),1),c("p",null,u(g.value),1),d(o,{type:"primary",onClick:R},{default:m(()=>a[0]||(a[0]=[p("重试",-1)])),_:1,__:[0]}),d(o,{plain:"",onClick:w},{default:m(()=>a[1]||(a[1]=[p("返回首页",-1)])),_:1,__:[1]})])])):i(t.$slots,"default",{key:1},void 0)}}},[["__scopeId","data-v-ed07e898"]]),Pe=Ae({__name:"PageTransition",props:{name:{type:String,default:"page-fade"},mode:{type:String,default:"out-in"},appear:{type:Boolean,default:!0},duration:{type:Number,default:300},useCss:{type:Boolean,default:!1},useHardwareAcceleration:{type:Boolean,default:!0},reducedMotion:{type:Boolean,default:!1}},setup(e){const t=e,a=n(!1);h(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;a.value=(()=>{if(navigator.deviceMemory&&navigator.deviceMemory<4)return!0;if(navigator.hardwareConcurrency&&navigator.hardwareConcurrency<4)return!0;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)})()||e||t.reducedMotion});const o=e=>{t.useCss||(e.style.opacity="0","page-fade"===t.name||"ink-spread"===t.name?e.style.transform="translateY(20px)":"page-slide"===t.name?e.style.transform="translateX(30px)":"page-zoom"===t.name&&(e.style.transform="scale(0.95)"),t.useHardwareAcceleration&&!a.value&&(e.style.willChange="opacity, transform",e.style.backfaceVisibility="hidden",e.style.perspective="1000px",e.style.transform+=" translateZ(0)"))},r=(e,n)=>{t.useCss?n():requestAnimationFrame(()=>{const o=a.value?Math.min(t.duration,200):t.duration,r=a.value?"ease-out":"cubic-bezier(0.25, 1, 0.5, 1)";e.style.transition=`opacity ${o}ms ${r}, transform ${o}ms ${r}`,e.style.opacity="1",e.style.transform="translateY(0) translateX(0) scale(1)"+(t.useHardwareAcceleration&&!a.value?" translateZ(0)":""),setTimeout(n,o)})},s=e=>{t.useCss||(e.style.transition="",e.style.willChange="",e.style.backfaceVisibility="",e.style.perspective="")},c=e=>{t.useCss||(e.style.opacity="1",t.useHardwareAcceleration&&!a.value?(e.style.willChange="opacity, transform",e.style.backfaceVisibility="hidden",e.style.perspective="1000px",e.style.transform="translateY(0) translateX(0) scale(1) translateZ(0)"):e.style.transform="translateY(0) translateX(0) scale(1)")},d=(e,n)=>{t.useCss?n():requestAnimationFrame(()=>{const o=a.value?Math.min(t.duration,200):t.duration,r=a.value?"ease-in":"cubic-bezier(0.55, 0, 0.1, 1)";e.style.transition=`opacity ${o}ms ${r}, transform ${o}ms ${r}`,e.style.opacity="0","page-fade"===t.name||"ink-spread"===t.name?e.style.transform="translateY(-20px)"+(t.useHardwareAcceleration&&!a.value?" translateZ(0)":""):"page-slide"===t.name?e.style.transform="translateX(-30px)"+(t.useHardwareAcceleration&&!a.value?" translateZ(0)":""):"page-zoom"===t.name&&(e.style.transform="scale(0.95)"+(t.useHardwareAcceleration&&!a.value?" translateZ(0)":"")),setTimeout(n,o)})},u=e=>{t.useCss||(e.style.transition="",e.style.willChange="",e.style.backfaceVisibility="",e.style.perspective="")};return E(()=>{}),(t,a)=>(l(),f(v,{name:e.name,mode:e.mode,appear:e.appear,css:e.useCss,onBeforeEnter:o,onEnter:r,onAfterEnter:s,onBeforeLeave:c,onLeave:d,onAfterLeave:u},{default:m(()=>[i(t.$slots,"default",{},void 0,!0)]),_:3},8,["name","mode","appear","css"]))}},[["__scopeId","data-v-956b5d3a"]]),Le={class:"ink-bg"},De={class:"main-content"},Ve={__name:"App",setup(e){const a=t(),o=R(),i=n(0),u=n(!1),E=n("ink-spread"),v=["Home","History"],I=ge();_("appConfig",ve),_("errorHandler",I);const A=()=>{u.value=window.matchMedia("(prefers-reduced-motion: reduce)").matches};h(()=>{A(),function(e="img[data-lazy]",t={}){if(!("IntersectionObserver"in window))return void document.querySelectorAll(e).forEach(e=>{e.dataset.src&&(e.src=e.dataset.src)});const a=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const a=e.target;a.dataset.src&&(a.src=a.dataset.src,a.onload=()=>{a.removeAttribute("data-src"),a.classList.add("loaded")}),t.unobserve(a)}})},{root:null,rootMargin:"0px",threshold:.1,...t});document.querySelectorAll(e).forEach(e=>{a.observe(e)})}("img[data-lazy]"),function(e,t="preconnect"){if(!e)return;(Array.isArray(e)?e:[e]).forEach(e=>{const a=document.createElement("link");a.rel=t,a.href=e,a.crossOrigin="anonymous",document.head.appendChild(a)})}(["https://fonts.googleapis.com","https://fonts.gstatic.com"]),Oe(["Card","Field","Cell","CellGroup"]),g(()=>{I.showSuccess("欢迎使用周易八卦在线卜卦系统",{position:"bottom",duration:2e3})});const e=window.matchMedia("(prefers-reduced-motion: reduce)");e.addEventListener&&e.addEventListener("change",A)});const T={"/":0,"/divination":1,"/interpretation":2,"/history":3};y(()=>o.path,e=>{if("/"===e)i.value=0,E.value="ink-spread";else{const t="/"+e.split("/")[1];i.value=T[t]||0,E.value="/divination"===t?"page-slide":"/interpretation"===t?"page-zoom":"ink-spread"}},{immediate:!0});const b=e=>{a.push(["/","/divination","/interpretation","/history"][e])};return(e,t)=>{const a=r("router-view"),n=r("van-tabbar-item"),o=r("van-tabbar");return l(),s("div",Le,[c("div",De,[d(a,null,{default:m(({Component:e,route:t})=>[d(Pe,{name:E.value,mode:"out-in","reduced-motion":u.value,class:"transparent-transition"},{default:m(()=>[(l(),f(w,{include:v},[d(ke,null,{default:m(()=>[(l(),f(O(e),{key:t.fullPath}))]),_:2},1024)],1024))]),_:2},1032,["name","reduced-motion"])]),_:1})]),d(o,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),onChange:b,fixed:"",class:"custom-tabbar"},{default:m(()=>[d(n,{icon:"home-o",to:"/",class:"touch-feedback"},{default:m(()=>t[1]||(t[1]=[p("首页",-1)])),_:1,__:[1]}),d(n,{icon:"guide-o",to:"/divination",class:"touch-feedback"},{default:m(()=>t[2]||(t[2]=[p("卜卦",-1)])),_:1,__:[2]}),d(n,{icon:"comment-o",to:"/interpretation",class:"touch-feedback"},{default:m(()=>t[3]||(t[3]=[p("解卦",-1)])),_:1,__:[3]}),d(n,{icon:"clock-o",to:"/history",class:"touch-feedback"},{default:m(()=>t[4]||(t[4]=[p("历史",-1)])),_:1,__:[4]})]),_:1},8,["modelValue"])])}}};function Ce(e,t={}){return I({...{loadingComponent:null,errorComponent:null,delay:200,timeout:6e4,suspensible:!0,onError(e,t,a){t()}},...t,loader:e})}const je={class:"loading-container"},Ne=Ae({__name:"LoadingView",setup:e=>(e,t)=>{const a=r("van-loading");return l(),s("div",je,[d(a,{size:"24px",vertical:"",color:"var(--ink-accent)"},{default:m(()=>t[0]||(t[0]=[p("加载中...",-1)])),_:1,__:[0]})])}},[["__scopeId","data-v-1f7dd7d9"]]),Se={class:"error-container"},xe={class:"error-message"},$e=Ae({__name:"ErrorView",props:{message:String,error:Object},setup(e){const a=t(),n=()=>{a.go(0)};return(t,a)=>{const o=r("van-icon"),i=r("van-button");return l(),s("div",Se,[d(o,{name:"warning-o",size:"48px",color:"var(--ink-error)"}),c("p",xe,u(e.message||"页面加载失败"),1),d(i,{type:"primary",size:"small",class:"retry-button",onClick:n},{default:m(()=>a[0]||(a[0]=[p(" 重试 ",-1)])),_:1,__:[0]})])}}},[["__scopeId","data-v-0c71bdf7"]]),Me=[{path:"/",name:"Home",component:Ce(()=>fe(()=>import("./HomeView-CTKh9npf.js"),__vite__mapDeps([2,1,0,3,4])),{loadingComponent:Ne,errorComponent:$e,delay:200}),meta:{title:"首页",keepAlive:!0}},{path:"/divination",name:"Divination",component:Ce(()=>fe(()=>import("./DivinationView-DIAWiRlM.js"),__vite__mapDeps([5,1,6,7,8,9,10,0,11,3,12])),{loadingComponent:Ne,errorComponent:$e}),meta:{title:"卜卦",keepAlive:!1}},{path:"/interpretation",name:"Interpretation",component:Ce(()=>fe(()=>import("./InterpretationView-CLP6VU6X.js"),__vite__mapDeps([13,1,8,9,14,15,7,10,3,16,0,17])),{loadingComponent:Ne,errorComponent:$e}),meta:{title:"解卦",keepAlive:!1}},{path:"/history",name:"History",component:Ce(()=>fe(()=>import("./HistoryView-vEfRcTRh.js"),__vite__mapDeps([18,1,16,10,0,3,19])),{loadingComponent:Ne,errorComponent:$e}),meta:{title:"历史记录",keepAlive:!0}},{path:"/demo",name:"Demo",redirect:"/demo/hexagram",meta:{title:"演示"},children:[{path:"hexagram",name:"HexagramDemo",component:Ce(()=>fe(()=>import("./HexagramDisplayDemo-D4e5s-jZ.js"),__vite__mapDeps([20,8,1,9,0,3,21])))},{path:"plum-blossom",name:"PlumBlossomDemo",component:Ce(()=>fe(()=>import("./PlumBlossomDemo-nJ7jco9K.js"),__vite__mapDeps([22,1,6,7,8,9,10,0,11,3,23])))},{path:"interpretation-card",name:"InterpretationCardDemo",component:Ce(()=>fe(()=>import("./InterpretationCardDemo-DSUfkcyn.js"),__vite__mapDeps([24,1,14,15,0,3,25])))},{path:"interpretation",name:"InterpretationDemo",component:Ce(()=>fe(()=>import("./InterpretationDemo--Ras28um.js"),__vite__mapDeps([26,14,1,15,0,3,27])))}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:Ce(()=>fe(()=>import("./NotFoundView-oo94iisG.js"),__vite__mapDeps([28,1,0,3,29]))),meta:{title:"页面未找到"}}],Be=A({history:T(),routes:Me,scrollBehavior:(e,t,a)=>a||{top:0}});Be.beforeEach((e,t,a)=>{document.title=e.meta.title?`${e.meta.title} - 周易八卦在线卜卦系统`:"周易八卦在线卜卦系统","Divination"===e.name&&fe(()=>import("./InterpretationView-CLP6VU6X.js"),__vite__mapDeps([13,1,8,9,14,15,7,10,3,16,0,17])),a()});const He={install:e=>{const t=ge();e.config.errorHandler=(e,a,n)=>{t.handleError({message:e.message||"应用发生错误",details:`${n}\n${e.stack||""}`},t.ERROR_TYPES.UNKNOWN,t.ERROR_SEVERITY.ERROR,{context:a?.$options?.name||"未知组件"})},e.config.globalProperties.$errorHandler=t,e.provide("errorHandler",t),window.addEventListener("unhandledrejection",e=>{t.handleError({message:"未处理的异步操作错误",details:e.reason?.stack||e.reason?.message||String(e.reason)},t.ERROR_TYPES.UNKNOWN,t.ERROR_SEVERITY.ERROR),e.preventDefault()}),window.addEventListener("error",e=>{(!e.target||"SCRIPT"!==e.target.nodeName&&"LINK"!==e.target.nodeName&&"IMG"!==e.target.nodeName)&&(t.handleError({message:"应用发生错误",details:e.error?.stack||e.message},t.ERROR_TYPES.UNKNOWN,t.ERROR_SEVERITY.ERROR),e.preventDefault())},!0)}},We={install:()=>{const e=ge();he.interceptors.request.use(t=>{if(!e.networkStatus.online){const e=new Error("网络连接已断开，请检查网络设置");return e.isOffline=!0,Promise.reject(e)}return t},t=>(e.handleNetworkError(t),Promise.reject(t))),he.interceptors.response.use(e=>e,t=>(he.isCancel(t)||(t.isOffline?e.handleNetworkError(t):e.handleApiError(t)),Promise.reject(t)))}},Ye={mounted(e,t){e.classList.add("touch-feedback");const a=t.value||{},n=a.color||"rgba(0, 0, 0, 0.1)",o=a.duration||800,r=t=>{const a=document.createElement("span");a.classList.add("touch-ripple");const r=e.getBoundingClientRect(),s=Math.max(r.width,r.height),i=t.touches?t.touches[0].clientX-r.left:t.clientX-r.left,l=t.touches?t.touches[0].clientY-r.top:t.clientY-r.top;a.style.width=a.style.height=`${s}px`,a.style.left=i-s/2+"px",a.style.top=l-s/2+"px",a.style.backgroundColor=n,a.style.animationDuration=`${o}ms`,e.appendChild(a),setTimeout(()=>{a&&a.parentNode&&a.parentNode.removeChild(a)},o)};e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("mousedown",r),e._touchFeedback={handleTouchStart:r}},unmounted(e){e._touchFeedback&&(e.removeEventListener("touchstart",e._touchFeedback.handleTouchStart),e.removeEventListener("mousedown",e._touchFeedback.handleTouchStart),delete e._touchFeedback)}},Fe=document.createElement("style");Fe.textContent="\n  .touch-feedback {\n    position: relative;\n    overflow: hidden;\n    -webkit-tap-highlight-color: transparent;\n  }\n  \n  .touch-ripple {\n    position: absolute;\n    border-radius: 50%;\n    transform: scale(0);\n    opacity: 1;\n    pointer-events: none;\n    animation: touch-ripple-animation 0.8s ease-out;\n  }\n  \n  @keyframes touch-ripple-animation {\n    to {\n      transform: scale(2);\n      opacity: 0;\n    }\n  }\n",document.head.appendChild(Fe);const Ue=b(Ve);Ue.use(Be),Ue.use(He),Ue.use(We),Ue.use(Ie);[D,V,C,j,N,S,x,$,M,B,H,W,Y,F,U,G,K,z,q,X,Z,Q,J,ee,te,ae,ne,oe,re,se,ie,le,ce,de,ue,me,pe,_e].forEach(e=>Ue.use(e)),Ue.directive("touch-feedback",Ye);{const e=({name:e,delta:t,id:a})=>{};Be.beforeEach((e,t,a)=>{window.performance&&window.performance.mark&&window.performance.mark(`route-change-start-${e.path}`),a()}),Be.afterEach(t=>{if(window.performance&&window.performance.mark){window.performance.mark(`route-change-end-${t.path}`),window.performance.measure(`route-change-${t.path}`,`route-change-start-${t.path}`,`route-change-end-${t.path}`);const a=window.performance.getEntriesByName(`route-change-${t.path}`);a.length&&e({name:"route-change",delta:a[0].duration,id:t.path})}})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})}),Ue.mount("#app"),setTimeout(()=>{fe(()=>Promise.resolve({}),__vite__mapDeps([30])),fe(()=>Promise.resolve({}),__vite__mapDeps([31])),fe(()=>Promise.resolve({}),__vite__mapDeps([32])),fe(()=>Promise.resolve({}),__vite__mapDeps([33]))},100),window.__VUE_APP_MOUNTED__?document.dispatchEvent(new Event("app-mounted")):(window.__VUE_APP_MOUNTED__=!0,setTimeout(()=>{document.dispatchEvent(new Event("app-mounted"))},100));export{Ae as _,fe as a,ge as u};
